<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Priston Bot Control</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üèõÔ∏è Priston Bot</h1>
            <div class="status" id="status">
                <span class="status-dot"></span>
                <span>–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...</span>
            </div>
        </header>

        <main>
            <!-- –†–∞–∑–¥–µ–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ) -->
            <section class="card" id="settings-section" style="display: none;">
                <h2>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
                
                <div class="settings-welcome" id="settings-welcome" style="display: none;">
                    <p><strong>üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</strong></p>
                    <p>–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ.</p>
                    <p><strong>–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:</strong></p>
                    <ul style="text-align: left; margin: 10px 0; padding-left: 20px;">
                        <li>–û–±—ã—á–Ω–æ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</li>
                        <li>–ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å CORS - —É–∫–∞–∂–∏—Ç–µ URL –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–∞</li>
                    </ul>
                    <button class="btn btn-primary" onclick="showSettingsForm()">‚úèÔ∏è –ù–∞—Å—Ç—Ä–æ–∏—Ç—å</button>
                </div>
                
                <div class="settings-form" id="settings-form">
                    <div class="form-group">
                        <label for="api-server-url">üåê API Server URL (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):</label>
                        <input type="text" id="api-server-url" placeholder="https://your-proxy.com/api" />
                        <small class="form-hint">
                            –û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –ø—Ä—è–º–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API –∏–≥—Ä—ã<br>
                            –ò–ª–∏ —É–∫–∞–∂–∏—Ç–µ URL –≤–∞—à–µ–≥–æ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–∞ (CloudPub.ru, ngrok –∏ —Ç.–¥.)<br>
                            <strong>–ü—Ä–∏–º–µ—Ä:</strong> https://carelessly-pioneering-wombat.cloudpub.ru/api
                        </small>
                    </div>
                    
                    <div class="form-group">
                        <label for="manual-token">üîë Access Token (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):</label>
                        <input type="password" id="manual-token" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω –≤—Ä—É—á–Ω—É—é (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)" />
                        <small class="form-hint">
                            –û–±—ã—á–Ω–æ —Ç–æ–∫–µ–Ω –ø–æ–ª—É—á–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é<br>
                            –í–≤–µ–¥–∏—Ç–µ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç<br>
                            <strong>–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω:</strong> –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
                        </small>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="use-hardcoded-initdata" />
                            –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π initData (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
                        </label>
                        <small class="form-hint">
                            –û–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è initData –æ—Ç Telegram –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏<br>
                            –í–∫–ª—é—á–∏—Ç–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
                        </small>
                    </div>
                    
                    <button class="btn btn-primary" onclick="saveSettings()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                    <button class="btn btn-secondary" onclick="resetSettings()" style="margin-top: 10px;">üîÑ –°–±—Ä–æ—Å–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                </div>
                
                <div class="settings-info" id="settings-info" style="display: none;">
                    <p><strong>–¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:</strong></p>
                    <div class="settings-display">
                        <div class="setting-item">
                            <span>API Server:</span>
                            <span id="current-api-url">–ù–µ —É–∫–∞–∑–∞–Ω (–ø—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ)</span>
                        </div>
                        <div class="setting-item">
                            <span>–¢–æ–∫–µ–Ω:</span>
                            <span id="current-token-status">–ù–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω</span>
                        </div>
                    </div>
                    <button class="btn btn-secondary" onclick="showSettingsForm()" style="margin-top: 10px;">‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                </div>
            </section>

            <!-- –†–∞–∑–¥–µ–ª –±–æ—Å—Å–∞ -->
            <section class="card" id="boss-section">
                <h2>üëπ –ë–æ—Å—Å</h2>
                <div class="boss-info" id="boss-info">
                    <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏...</p>
                </div>
                <button class="btn btn-primary" onclick="attackBoss()">‚öîÔ∏è –ê—Ç–∞–∫–æ–≤–∞—Ç—å</button>
            </section>

            <!-- –†–∞–∑–¥–µ–ª —Ç—é—Ä–µ–º -->
            <section class="card" id="prison-section">
                <h2>üèõÔ∏è –¢—é—Ä—å–º—ã</h2>
                <div class="prison-select">
                    <select id="prison-select" onchange="loadPrisonInfo()">
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç—é—Ä—å–º—É...</option>
                    </select>
                    <select id="mode-select" onchange="loadPrisonInfo()">
                        <option value="day">–î–µ–Ω—å</option>
                        <option value="night">–ù–æ—á—å</option>
                    </select>
                </div>
                <div class="prison-info" id="prison-info">
                    <p>–í—ã–±–µ—Ä–∏—Ç–µ —Ç—é—Ä—å–º—É –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</p>
                </div>
                <button class="btn btn-success" onclick="startPrisonWalk()" id="prison-walk-btn" disabled>
                    üöÄ –ù–∞—á–∞—Ç—å –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ
                </button>
            </section>

            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
            <section class="card" id="stats-section">
                <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                <div class="stats" id="stats">
                    <div class="stat-item">
                        <span class="stat-label">–í—Å–µ–≥–æ –∞—Ç–∞–∫:</span>
                        <span class="stat-value" id="total-attacks">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">–≠–Ω–µ—Ä–≥–∏—è:</span>
                        <span class="stat-value" id="energy">-</span>
                    </div>
                </div>
            </section>
        </main>
        
        <!-- –ö–Ω–æ–ø–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞ -->
        <div class="settings-button-container">
            <button class="btn btn-secondary" onclick="toggleSettings()" id="settings-toggle-btn">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
